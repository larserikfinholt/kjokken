define(["durandal/system","services/logger","durandal/app","services/data","viewmodels/settings"],function(e,t,n,r){function i(n,r,i){t.log(n,r,e.getModuleId(o),i)}var o={title:"Manage users",selectedUser:ko.observable({}),useOwnCalendar:ko.observable(!1),calendars:ko.observable(),save:function(){var e=this,t={};return t.user=this.selectedUser(),e.modal.close(t)},activate:function(e){var t=this;return this.selectedUser(e),i("Activate User",e),0==this.calendars.length?r.loadAvailbleCalendars().done(function(e){return i("loadAvailbleCalendars done",e),t.calendars=ko.mapping.fromJS(e),t}):!0}};return o});